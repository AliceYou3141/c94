\section*{謝辞}
\begin{center}
この本を読んでくださる方に \\
気力をくれる友人に \\
大切な人に \\
かわらぬ感謝と本書をささげます
\end{center}

\section*{まえがき}
メールサーバが必要になったとき、どうしていますか？
多くの場合は、インターネットプロバイダのメールサービスを契約したり、Office365やGoogle Apps.といったクラウドベースのメールサービスをするでしょう。現在に置いて、メールは規制のサービスを借りて使う者、その考えは間違っているということはできません。

さて、既存のサービスに収まらないメールサービスが必要となったときはどうすれば良いでしょうか。ひとつの回答として、メールシステムの構築を得手とするSIerになげる、という方法もあるでしょう。
ですが、昨今のDevsOPｓの流れの中、メールシステムの部分だけ、他所に作ってもらったブラックボックスで良いのか、そのような考えに至るとしても、それはまたひとつの解です。

ですが、メールシステムを内製しようとしたとき、電子メールというシステムを理解し、なんらかのメールサーバ実装を理解するのに必要な情報が散逸している現実に気付きます。日本語で読めるメールサーバの本を、新刊書店で最後に見たのはいつのことだったでしょうか。

本書は、どちらかというと後者の危機感から企画されました。現在、メールサーバを設定し、メールシステムという者を構築するために必要な知識を一冊に纏めた日本語の本は、存在していません。今回、本書を著わすにあたって、参考にできるような書籍がもはや存在していませんでした。
もちろん、長年Postfixとつきあってきましｔたので、それなりの数の書籍は持っています。ですが、内容が古く、参考にするのは躊躇われました。内容が古く、Postfix1.0や、Postfix2.0ぐらいのときの内容であったためです。
業務向けのLinuxのディストリビューションでは枯れたバージョンであるRHEL6(Red Hat Enterprise Linux6)以降で導入されるPostfix2．6や、その次のバージョンで、現行のバージョンでもあるRHEL7のPostfix2.10には対応していません。
ましてや、FreeBAD11Rの標準パッケージでインストールできるPostfix3系とは、メジャ=バージョンが二つ離れています。

このままでは、メールシステム構築が、インターネットプロバイダやGoogleにでも勤務しない限り触れることがない秘技と化してしまう、それが、私たちが感じている危機感です。そして、著者の知識を文面に残すことで、メールサーバを扱い、メールシステムを構築することは、特別なことではないということにしたい、それが今、この場を借りてお伝えしたいこととなります。


\begin{flushright}
2018年8月10日 \\
インフラエンジニアの毒舌な妹(@infra\_imouto)
\end{flushright}

\section*{想定する読者と内容範囲}
本書の読者として、DevOpsの一環でメールサーバを構築することを検討しているインフラエンジニア、メールの転送サービスを記述宇することになったアプリケーションエンジニアなど、何らかの形でメールというサービスを構築しなければ鳴らなくなった人をイメージしています。メールサービスの基礎的な知識、Postfixの基礎的な扱いと設定について理解してもらうのが目的です。

TCP/IPの基本的な知識、UNIX系OSのプロセス間通信に関しての概要を理解していることを前提としています。また、DNSについては、特定の実装でなく、一般的な問い合わせと応答のイメージがあれば理解できる内容としています。

本書は、今後刊行を予定している下巻でメールシステムを構築していくための、メールの送受信ととPostfixに関する基礎的な範囲について取り上げています。ユーザに対してサービスを展開していくのに必要な事項は、本書の知識を前提とする下巻で展開していく予定です。

\subsection*{上巻の内容}

\paragraph{第一章}
電子メールと、メールサービスの概論について説明します。電子メールの遣り取りがどんな風に行われているか、その概要について説明しています。

\paragraph{第二章}
Postfixのインストールと、起動、停止などの操作や、Postfixの設定ファイルの場所、設定ファイルの記法などについて説明をしています。RHEL(CentOS)と、FreeBSD、NetBSDについて説明をしています。

\paragraph{第三章}
メールサーバの上で、同じメールサーバで管理される宛先にメールを出すための設定を行います。その過程で、Postfixの最低限の設定について説明をします。

\paragraph{第四章}
メールサーバから、他のメールサーバにメールを転送するときに必要なことが何か、に着いて説明します。他のメールサーバにメールを受け取ってもらうというのはどういうことか、そのためにはどんなことをしなければならないかについて解説します。

\paragraph{第五章}
他のメールサーバからメールを受信するための設定と、メールを受信するのに必要な設定、DNSに記入すべきデータについて説明します。ここまでの設定を行うことで、メールサーバどうしでメールを送受信する仕組みが構築できます。

\paragraph{付録A}
Sender Policy Frameworkという、接続してきたメールサーバの正当性を判断するための仕組みについて説明します。SPFはメール送信時にあった方が良い情報ですが、PostfixでなくDNSに記入するエントリとなります。


にさせていただいた、書籍とWebページの一覧です。

\section*{免責事項}
本書に書いてあることは、筆者知識のレベルでまとめたものです。内容が正しいとは言い切れません。、これまで出した本でも相当やらかしています。また、学校のレポート、業務などのコードを書く際に、本書の内容を信じて書いて損害が生じても、筆者にその責任はありません。

くれぐれも、自己責任と十分な検証の上、ご利用ください。

\section*{表紙イラスト}
ゆうちゃん （コース英知)